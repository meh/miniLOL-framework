/* miniLOL is released under AGPLv3. Copyleft meh. [http://meh.doesntexist.org | meh.ffff@gmail.com] */
(function(){if(Prototype.Browser.IE)Prototype.Browser.InternetExplorer=true;if(Prototype.Browser.Gecko)Prototype.Browser.Mozilla=true;if(navigator.userAgent.match(/Chrome/))Prototype.Browser.Chrome=true;if(navigator.userAgent.match(/Safari/)&&!Prototype.Browser.Chrome)Prototype.Browser.Safari=true;if(Prototype.Browser.Mozilla||Prototype.Browser.Opera)Prototype.Browser.Good=true;else Prototype.Browser.Bad=true;Prototype.Browser.Name=window.navigator.appName;var a=window.navigator.appVersion;try{if(Prototype.Browser.IE)Prototype.Browser.Version=
parseFloat(a.match(/MSIE ([^;]*)/)[1]);else if(Prototype.Browser.Mozilla||Prototype.Browser.Opera)Prototype.Browser.Version=parseFloat(a);else throw null;}catch(b){Prototype.Browser.Version=0}if(Prototype.Browser.IE)Error.prototype.toString=function(){return"#{name}: #{description}<br/><br/>#{stack}".interpolate({name:this.name,description:this.description,stack:(this.stack||"").replace(/\n/g,"<br/>")})};else if(Prototype.Browser.Opera)Error.prototype.toString=function(){return"#{name}: #{message}".interpolate(this)};
else if(Prototype.Browser.Gecko)Error.prototype.toString=function(){return"#{name}: #{message}<br/><br/>#{stack}".interpolate({name:this.name,message:this.message,stack:this.stack.replace(/\n/g,"<br/>")})};else if(Prototype.Browser.Chrome||Prototype.Browser.Safari)Error.prototype.toString=function(){return"#{name}: #{message}<br/><br/>#{stack}".interpolate({name:this.name,message:this.message,stack:this.stack.replace(/\n/g,"<br/>")})};if(Prototype.Browser.IE){if(!window.DOMParser)window.DOMParser=
Class.create({parseFromString:function(c){var e=new AciveXObject("Microsoft.XMLDOM");e.async="false";e.loadXML(c);return e}});if(!window.XMLSerializer)window.XMLSerializer=Class.create({serializeToString:function(c){return c.xml}})}})();Object.extend(Function,function(){return{parse:function(a){matches=a.match(/^function\s*\((.*?)\)[\s\n]*\{([\s\S]*)\}[\s\n]*/m);if(!matches)return null;a=matches[1].split(/\s*,\s*/);return new Function(a,matches[2])}}}());Object.extend(Function.prototype,function(){return{clone:function(){return Function.parse(this.toString())}}}());
Object.extend(Object,function(){var a=Object.isFunction(Object.defineProperty)?Object.defineProperty:function(e,f,d){Object.isFunction(d.get)&&Object.isFunction(e.__defineGetter__)&&e.__defineGetter__(f,d.get);Object.isFunction(d.set)&&Object.isFunction(e.__defineSetter__)&&e.__defineSetter__(f,d.set)};if(Object.isFunction(Object.defineProperties))var b=Object.defineProperties;else Object.defineProperties=function(e,f){for(var d in f)Object.defineProperty(e,d,f[d])};if(Object.isFunction(Object.create))var c=
Object.create;else Object.create=function(e,f){var d=Object(e);Object.defineProperties(d,f);return d};return{isBoolean:function(e){return typeof e=="boolean"||e.constructor===Boolean},isObject:function(e){return typeof e=="object"},isDocument:function(e){return e.toString().include("Document")},isXML:function(e){if(typeof e!=="object")return false;e=e.ownerDocument||e;if(!e.documentElement)return false;return e.documentElement.nodeName!="HTML"},fromAttributes:function(e){for(var f={},d=0;d<e.length;d++)f[e.item(d).nodeName]=
e.item(d).nodeName;return f},toQueryString:function(e){var f="";for(var d in e)f+="#{name}=#{value}&".interpolate({name:d,value:e[d]});return f.substr(0,f.length-1)},defineProperty:a,defineProperties:b,create:c}}());Object.extend(String,function(){return{fromAttributes:function(a){for(var b="",c=0;c<a.length;c++)b+='#{name}="#{value}" '.interpolate({name:a.item(c).nodeName,value:a.item(c).nodeValue});return b},fromXML:function(a){if(!Object.isXML(a))return false;return(new XMLSerializer).serializeToString(a)}}}());
Object.extend(String.prototype,function(){function a(d){Object.isRegExp(d)||(d=/&/);var g={},h=this.match(/[?#](.*?)([#?]|$)/);if(!h)return g;d=h[1].split(d);for(h=0;h<d.length;h++){var i=d[h].split(/=/),j=i[0].decodeURIComponent();if(i=i[1])if(Object.isUndefined(g[j]))g[j]=i.decodeURIComponent();else if(Object.isArray(g[j]))g[j].push(i);else g[j]=[g[j],i];else g[j]=true}return g}var b=window.encodeURI,c=window.decodeURI,e=window.encodeURIComponent,f=window.decodeURIComponent;return{toQueryParams:a,
parseQuery:a,toXML:function(){return(new DOMParser).parseFromString(this,"text/xml")},isURL:function(){return/^(\w+):(\/\/.+?(:\d)?)(\/)?/.test(this)||/^mailto:([\w.%+-]+@[\w.]+\.[A-Za-z]{2,4})$/.test(this)},parseURL:function(){var d;if(d=this.match(/^mailto:(([\w.%+-]+)@([\w.]+\.[A-Za-z]{2,4}))$/))return{protocol:"mailto",uri:d[1],user:d[2],host:d[3]};if(d=this.match(/^((\w+):\/\/(((.+?)(:(\d+))?)(\/.*)?))$/))return{full:d[1],protocol:d[2],uri:d[3],host:d[4],hostname:d[5],port:d[7],path:d[8]};return false},
blank:function(){return this==0},getHashFragment:function(){var d=this.match(/(#.*)$/);return d?d[1]:""},splitEvery:function(d){for(var g=[],h=0;h<this.length;h+=d)g.push(this.substr(h,d));return g},test:function(d){return d.test(this)},commonChars:function(d){return this.toArray().intersect(d.toArray())},format:function(d){var g=this;for(var h in d)g=g.replace(RegExp("\\{"+h+"\\}","g"),d[h].toString());return g},reverse:function(){return this.toArray().reverse().join("")},translate:function(d,g){var h=
this;if(g)for(key in d){if(!g[key])throw Error("The second table value is missing.");h=d[key].is(RegExp)?h.replace(eval(d[key].global?d[key].toString():d[key].toString()+"g")):h.replace(RegExp(d[key],"g"),g[key])}else for(match in d){if(match.length!=2)throw Error("The array has to be [regex, translation].");h=match[0].is(RegExp)?h.replace(eval(match[0].global?match[0].toString():match[0].toString()+"g"),match[1]):h.replace(RegExp(match[0],"g"),match[1])}return h},toNumber:function(d){return d?parseInt(this):
parseFloat(this)},toBase:function(d){return this.toNumber().toBase(d)},fromBase:function(d){return parseInt(this,d)},toCode:function(){return this.charCodeAt(0)},encodeURI:function(){return b(this)},decodeURI:function(){return c(this)},encodeURIComponent:function(){return e(this)},decodeURIComponent:function(){return f(this)}}}());
Object.extend(Number.prototype,function(){function a(){return this*1E3}function b(){return this}function c(){return this*60}function e(){return this*60*60}function f(){return this*60*60*24}function d(){return this*60*60*24*7}function g(){return this*60*60*24*375}return{milliseconds:a,ms:a,seconds:b,second:b,minutes:c,minute:c,hours:e,hour:e,days:f,day:f,weeks:d,week:d,years:g,year:g,upTo:function(h,i,j){$R(this,h+1,true).each(i,j);return this},isEven:function(){return this%2==0},isOdd:function(){return this%
2!=0},abs:function(){return Math.abs(this)},round:function(){return Math.round(this)},ceil:function(){return Math.ceil(this)},floor:function(){return Math.floor(this)},log:function(){return Math.log(this)},pow:function(h){return Math.pow(this,h)},sqrt:function(){return Math.sqrt(this)},sin:function(){return Math.sin(this)},cos:function(){return Math.cos(this)},tan:function(){return Math.tan(this)},asin:function(){return Math.asin(this)},acos:function(){return Math.acos(this)},atan:function(){return Math.atan(this)},
toBase:function(h){return this.toString(h).toUpperCase()},toChar:function(){return String.fromCharCode(this)},digits:function(){var h=this.toString().match(/e(.*)$/);return h?h[1].toNumber()>0?1+h[1].toNumber():0:this.toString().length}}}());
window.Element.addMethods(function(){return{load:function(a,b){if(b&&!Object.isUndefined(b.frequency))new Ajax.PeriodicalUpdater(this,a,b);else new Ajax.Updater(this,a,b)},xpath:Prototype.Browser.IE?function(a,b){if(Object.isUndefined(b)){b=a;a=this}for(var c=[],e=a.selectNodes(b),f=0;f<e.length;f++)c.push(e.item(f));return c}:function(a,b){if(Object.isUndefined(b)){b=a;a=this}for(var c=[],e=(a.ownerDocument||a).evaluate(b,a,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),f=0;f<e.snapshotLength;f++)c.push(e.snapshotItem(f));
return c},select:function(a,b){if(Object.isUndefined(b)){b=a;a=this}return Prototype.Selector.select(b,a)},getTextDescendants:function(a){function b(e){for(e=e.firstChild;e;){Node.TEXT_NODE==e.nodeType&&c.push(e);Object.isElement(e)&&b(e);e=e.nextSibling}}a=a||this;var c=[];b(a);return c},getFirstText:function(a){a=a||this;var b="";if(Object.isElement(a))a=$A(a.childNodes);else Object.isArray(a)||(a=$A(a));a.each(function(c){switch(c.nodeType){case Node.ELEMENT_NODE:throw $break;case Node.CDATA_SECTION_NODE:case Node.TEXT_NODE:if(!c.nodeValue.blank()){b=
c.nodeValue.strip();throw $break;}break}});return b},toObject:function(a){a=a||this;var b={};if(!Object.isElement(a)&&!Object.isDocument(a))return b;$A(a.childNodes).each(function(c){if(c.nodeType==Node.ELEMENT_NODE)if(c.getElementsByTagName("*").length==0){var e="";$A(c.childNodes).each(function(f){f.nodeType!=Node.CDATA_SECTION_NODE&&f.nodeType!=Node.TEXT_NODE||f.nodeValue.blank()||(e+=f.nodeValue)});b[c.nodeName]=e}else b[c.nodeName]=Element.toObject(c)});return b}}}());
if(!Object.isObject(window.miniLOL))window.miniLOL={error:Prototype.emptyFunction,Framework:{Version:"0.1"}};
miniLOL.utils={exists:function(a){var b=false;new Ajax.Request(a,{method:"head",asynchronous:false,onSuccess:function(){b=true}});return b},execute:function(a){var b,c;new Ajax.Request(a,{method:"get",asynchronous:false,evalJS:false,onSuccess:function(e){try{b=window.eval(e.responseText)}catch(f){c=f;c.fileName=a;c.lineNumber-=5}},onFailure:function(e){c=Error("Failed to retrieve `#{file}` (#{status} - #{statusText}).".interpolate({file:a,status:e.status,statusText:e.statusText}));c.fileName=a;c.lineNumber=
0}});if(c)throw c;return b},include:function(a){var b=false;new Ajax.Request(a,{method:"get",asynchronous:false,evalJS:false,onSuccess:function(c){try{window.eval(c.responseText);b=true}catch(e){b=false}}});return b},require:function(a){var b=false;new Ajax.Request(a,{method:"get",asynchronous:false,evalJS:false,onSuccess:function(c){try{window.eval(c.responseText)}catch(e){b=e;b.fileName=a;b.lineNumber-=5}},onFailure:function(c){b=Error("Failed to retrieve `#{file}` (#{status} - #{statusText}).".interpolate({file:a,
status:c.status,statusText:c.statusText}));b.fileName=a;b.lineNumber=0;b.http={status:c.status,text:c.statusText}}});if(b)throw b;return true}};
miniLOL.History={interval:0.15,initialize:function(){miniLOL.History.current=window.location.hash;if(Prototype.Browser.Opera&&history.navigationMode)history.navigationMode="compatible";Event.observe(document,":url.change",function(a){miniLOL.History.current=Object.isString(a.memo)?a.memo:""});miniLOL.History.Initializers.get().call()},reset:function(a,b){if(Object.isNumber(a))miniLOL.History.interval=a;Object.isUndefined(miniLOL.History.timer)||clearInterval(miniLOL.History.timer);miniLOL.History.timer=
setInterval(b,miniLOL.History.interval*1E3)},Initializers:{get:function(){return"onhashchange"in window&&!(Prototype.Browser.InternetExplorer&&Prototype.Browser.Version==7)?miniLOL.History.Initializers.Default:Prototype.Browser.InternetExplorer?miniLOL.History.Initializers.InternetExplorer:miniLOL.History.Initializers.Unsupported},Default:function(){Event.observe(window,"hashchange",function(){Event.fire(document,":url.change",Prototype.Browser.Mozilla?window.location.hash.substring(1):decodeURIComponent(window.location.hash.substring(1)))})},
Unsupported:function(){document.observe("dom:loaded",function(){miniLOL.History.reset(miniLOL.History.interval,miniLOL.History.Checkers.Default)})},InternetExplorer:function(){document.observe("dom:loaded",function(){miniLOL.History.IE={check:function(){if(!miniLOL.History.IE.element.parentNode||miniLOL.History.IE.element.parentNode.nodeName=="#document-fragment")$(document.body).insert({top:miniLOL.History.IE.element})},put:function(a){miniLOL.History.IE.check();var b=miniLOL.History.IE.element.contentWindow.document;
b.open();b.close();b.location.hash=encodeURIComponent(a.substring(1))},get:function(){miniLOL.History.IE.check();return miniLOL.History.IE.element.contentWindow.document.location.hash},element:new Element("iframe",{id:"__miniLOL.History",style:"display: none !important; z-index: -9001 !important;",src:"javascript:false;"})};$(document.body).insert({top:miniLOL.History.IE.element});miniLOL.History.IE.put(miniLOL.History.current);miniLOL.History.reset(miniLOL.History.interval,miniLOL.History.Checkers.InternetExplorer)})}},
Checkers:{Default:function(){if(miniLOL.History.current!=window.location.hash)Event.fire(document,":url.change",Prototype.Browser.Mozilla?window.location.hash.substring(1):decodeURIComponent(window.location.hash.substring(1)))},InternetExplorer:function(){var a={iframe:miniLOL.History.IE.get(),actual:window.location.hash||"#",current:miniLOL.History.current};if(a.actual!=a.iframe){if(a.actual&&a.actual==a.current)window.location.hash=miniLOL.History.current=a.iframe;else miniLOL.History.IE.put(miniLOL.History.current=
a.actual);Event.fire(document,":url.change",miniLOL.History.current)}}}};miniLOL.History.initialize();
miniLOL.Resource=Class.create({initialize:function(a,b){if(!b)throw Error("No wrapper has been passed.");this.name=a;this.wrapper=b;if(!this.wrapper.clear)this.wrapper.clear=function(){this.data={}};for(var c in this.wrapper){if(Object.isFunction(this.wrapper[c])){if(this.wrapper[c].parent==this.wrapper)break;this.wrapper[c]=this.wrapper[c].bind(this.wrapper);this.wrapper[c].parent=this.wrapper}if(Object.isUndefined(this[c]))this[c]=this.wrapper[c]}this.clear();this.flush();this.wrapper.initialize&&
this.wrapper.initialize()},load:function(){var a,b=$A(arguments);Event.fire(document,":resource.load",{resource:this,arguments:b});this.calls.push(b);try{a=this.wrapper.load.apply(this.wrapper,b)}catch(c){miniLOL.error("Error while loading `#{name}` resource.\n#{error}".interpolate({name:this.name,error:c.toString()}));return false}Event.fire(document,":resource.loaded",{resource:this,arguments:b});return a},reload:function(){Event.fire(document,":resource.reload",{resource:this});this.wrapper.clear();
this.flush().each(function(a){this.load.apply(this,a)},this);Event.fire(document,":resource.reloaded",{resource:this})},clear:function(){Event.fire(document,":resource.clear",{resource:this});this.wrapper.clear()},flush:function(a){Event.fire(document,":resource.flush",{resource:this,call:a});var b;if(Object.isArray(a)){if(b=this.calls.find(function(c){if(c.length!=a.length)return false;for(var e=false,f=0;f<c.length;f++){if(a[f]==c[f])e=true;if(!e)break}return e}))this.calls=this.calls.filter(function(c){return c!=
b})}else{b=this.calls;this.calls=[]}return b},data:function(){return this.wrapper.data}});
miniLOL.JSON=Class.create({initialize:function(a){this.replace(a)},get:function(a){return this.data[a]},set:function(a,b){return this.data[a]=b},remove:function(a){var b=this.data[a];delete this.data[a];return b},clear:function(){var a=this.data;this.data={};return a},replace:function(a){var b=this.data;this.data=Object.isString(a)?miniLOL.JSON.unserialize(a):Object.extend({},a);return b},toString:function(){return miniLOL.JSON.serialize(this.data)||"{}"}});miniLOL.JSON.parse=function(a){return new miniLOL.JSON(a)};
miniLOL.JSON.serializeSpecial=function(a){if(typeof a!=="object")return a;a=Object.clone(a);for(var b in a)a[b]=Object.isXML(a[b])?{__miniLOL_is_xml:true,value:String.fromXML(a[b])}:Object.isFunction(a[b])?{__miniLOL_is_function:true,value:a[b].toString()}:miniLOL.JSON.serializeSpecial(a[b]);return a};
miniLOL.JSON.unserializeSpecial=function(a){if(typeof a!=="object")return a;a=Object.clone(a);for(var b in a)a[b]=a[b].__miniLOL_is_xml?a[b].value.toXML():a[b].__miniLOL_is_function?Function.parse(a[b].value):miniLOL.JSON.unserializeSpecial(a[b]);return a};miniLOL.JSON.serialize=function(a){try{return Object.toJSON(miniLOL.JSON.serializeSpecial(a))}catch(b){return false}};miniLOL.JSON.unserialize=function(a){if(!Object.isString(a))return null;try{return miniLOL.JSON.unserializeSpecial(a.evalJSON())}catch(b){return null}};
miniLOL.Cookie=function(){function a(f){return Object.extend({expires:new Date(Date.now()+(1).day().ms()),path:"",domain:"",secure:"",raw:false},f||{})}function b(f,d,g){if(Object.isUndefined(g))g={};return"#{key}=#{value}; #{maxAge}#{expires}#{path}#{domain}#{secure}".interpolate({key:f.encodeURIComponent(),value:d.encodeURIComponent(),maxAge:!Object.isUndefined(g.maxAge)?"max-age=#{0}; ".interpolate([g.maxAge]):"",expires:!Object.isUndefined(g.expires)?"expires=#{0}; ".interpolate([g.expires.toUTCString()]):
"",path:!Object.isUndefined(g.path)?"path=#{0}; ".interpolate([g.path]):"",domain:!Object.isUndefined(g.domain)?"domain=#{0}; ".interpolate([g.domain]):"",secure:g.secure?"secure":""})}function c(){var f=[];window.document.cookie.split(/; /).each(function(d){d=d.split(/=/);f.push(d[0])});return f.uniq()}function e(f,d){window.document.cookie=b(f,"",Object.extend(a(d),{expires:new Date(0)}))}return{encode:b,keys:c,get:function(f,d){d=a(d);var g=window.document.cookie.match(RegExp.escape(f.encodeURIComponent())+
"=([^;]*)","g");if(g){var h=[];$A(g).each(function(i){i=i.match(/^.*?=(.*)$/)[1].decodeURIComponent();h.push(d.raw?i:miniLOL.JSON.unserialize(i)||i)});if(h.length==1)h=h[0];return h}},set:function(f,d,g){g=a(g);g.raw||(d=miniLOL.JSON.serialize(d)||d);window.document.cookie=b(f,d,g)},remove:e,clear:function(){c().each(function(f){e(f)})}}}();
miniLOL.Storage=Class.create({initialize:function(a,b){this.name=a;this.backend=miniLOL.Storage.Instances[a]?miniLOL.Storage.Instances[a]:new (b||miniLOL.Storage.Backends.available())(a);miniLOL.Storage.Instances[a]=this.backend},get:function(a){return this.backend.get(a.toString())},set:function(a,b,c){return this.backend.set(a.toString(),b,c)},remove:function(a,b){return this.backend.remove(a.toString(),b)},clear:function(a){return this.backend.clear(a)},size:function(){return this.backend.size},
save:function(){this.backend.save()}});miniLOL.Storage.Instances={};
miniLOL.Storage.Backend=Class.create(miniLOL.JSON,{initialize:function($super,b,c){$super(c);this.name=miniLOL.Storage.Backend.filter(b);if(Object.isString(c))this.size=c.size},get:function($super,b){return $super(b)},set:function($super,b,c,e){b=$super(b,c);e||this.save();return b},remove:function($super,b,c){b=$super(b);c||this.save();return b},clear:function($super,b){var c=$super();b||this.save();return c},replace:function($super,b){this.size=Object.isString(b)?b.length:0;return $super(b)}});
Object.extend(miniLOL.Storage.Backend,{filter:function(a){return a.replace(/\s/g,"")}});
miniLOL.Storage.Backends={available:function(){try{return window.localStorage?miniLOL.Storage.Backends.LocalStorage:window.globalStorage?miniLOL.Storage.Backends.GlobalStorage:document.body.addBehavior?miniLOL.Storage.Backends.UserDataBehavior:miniLOL.Storage.Backends.Cookie}catch(a){return miniLOL.Storage.Backends.Null}},LocalStorage:Class.create(miniLOL.Storage.Backend,{initialize:function($super,b){$super(b);this.replace(window.localStorage["__miniLOL.storage."+this.name]||"{}")},save:function(){var a=
this.toString();this.size=a.length;window.localStorage["__miniLOL.storage."+this.name]=a}}),GlobalStorage:Class.create(miniLOL.Storage.Backend,{initialize:function($super,b){$super(b);this.replace(window.globalStorage[window.location.hostname]["__miniLOL.storage."+this.name]||"{}")},save:function(){var a=this.toString();this.size=a.length;window.globalStorage[window.location.hostname]["__miniLOL.storage."+this.name]=a}}),UserDataBehavior:Class.create(miniLOL.Storage.Backend,{initialize:function($super,
b){$super(b);this.element=document.createElement("link");this.element.addBehavior("#default#userData");$$("head")[0].appendChild(this.element);this.element.load("__miniLOL.storage."+b);var c=this.element.getAttribute("__miniLOL.storage."+this.name)||"{}";this.size=c.length;this.replace(c)},save:function(){var a=this.toString();this.size=a.length;this.element.setAttribute("__miniLOL.storage."+this.name,a);this.element.save("__miniLOL.storage."+this.name)}}),Cookie:Class.create(miniLOL.Storage.Backend,
{initialize:function($super,b){$super(b);this.replace(miniLOL.Cookie.get("__miniLOL.storage."+this.name,{raw:true})||"{}")},save:function(){var a=this.toString();this.size=a.length;miniLOL.Cookie.set("__miniLOL.storage."+this.name,a,{expires:31536E3,raw:true})}}),Null:Class.create(miniLOL.Storage.Backend,{save:Prototype.emptyFunction})};
miniLOL.Document=function(){return{fix:Prototype.Browser.IE?function(a){if(a){a={real:a};a.documentElement=a.real.documentElement;a.getElementsByTagName=function(b){return this.real.getElementsByTagName(b)};a.getElementById=function(b){return Element.xpath(this,"//*[@id='#{0}']".interpolate([b])).first()}.bind(a.real);a.real.setProperty("SelectionLanguage","XPath");a.xpath=Element.xpath.bind(a.real);a.select=Element.select.bind(a.real);return a}}:Prototype.Browser.Good?function(a){if(a){a.xpath=Element.xpath;
a.select=Element.select;return a}}:function(a){if(a){a.getElementById=function(b){return this.xpath("//*[@id='#{0}']".interpolate([b])).first()};a.xpath=Element.xpath;a.select=Element.select;return a}},check:function(a,b){var c=false;a||(c="There is a syntax error.");if(a.documentElement.nodeName=="parsererror")c=a.documentElement.textContent;if(b&&c){miniLOL.error("Error while parsing #{path}\n\n#{error}".interpolate({path:b,error:c}),true);return c}return c}}}();
miniLOL.CSS=function(){return{include:function(a){var b=false;if(!(b=$$("link").find(function(c){return c.getAttribute("href")==a}))&&miniLOL.utils.exists(a)){b=new Element("link",{rel:"stylesheet",href:a,type:"text/css"});$$("head")[0].insert(b);Event.fire(document,":css.included",b)}return b},create:function(a,b){var c=new Element("style",{type:"text/css"});if(Prototype.Browser.IE)c.styleSheet.cssText=a;else c.update(a);b&&c.setAttribute("id",b);$$("head").first().appendChild(c);Event.fire(document,
":css.created",c);return c}}}();
